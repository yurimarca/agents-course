<CourseFloatingBanner chapter={2}
  classNames="absolute z-10 right-0 top-0"
  notebooks={[
    {label: "Google Colab", value: "https://colab.research.google.com/github/huggingface/agents-course/blob/main/notebooks/unit2/smolagents/code_agents.ipynb"},
]} />

# ConstrucciÃ³n de Agentes que Usan CÃ³digo

Los agentes de cÃ³digo son el tipo de agente predeterminado en `smolagents`. Generan llamadas a herramientas en Python para realizar acciones, logrando representaciones de acciones que son eficientes, expresivas y precisas.

Su enfoque simplificado reduce el nÃºmero de acciones requeridas, simplifica operaciones complejas y permite la reutilizaciÃ³n de funciones de cÃ³digo existentes. `smolagents` proporciona un marco ligero para construir agentes de cÃ³digo, implementado en aproximadamente 1,000 lÃ­neas de cÃ³digo.

![Acciones de CÃ³digo vs JSON](https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/transformers/code_vs_json_actions.png)
GrÃ¡fico del artÃ­culo [Executable Code Actions Elicit Better LLM Agents](https://huggingface.co/papers/2402.01030)

<Tip>
Si quieres aprender mÃ¡s sobre por quÃ© los agentes de cÃ³digo son efectivos, consulta <a href="https://huggingface.co/docs/smolagents/en/conceptual_guides/intro_agents#code-agents" target="_blank">esta guÃ­a</a> de la documentaciÃ³n de smolagents.
</Tip>

## Â¿Por quÃ© Agentes de CÃ³digo?

En un proceso de agente de mÃºltiples pasos, el LLM escribe y ejecuta acciones, tÃ­picamente involucrando llamadas a herramientas externas. Los enfoques tradicionales utilizan un formato JSON para especificar nombres de herramientas y argumentos como cadenas de texto, **que el sistema debe analizar para determinar quÃ© herramienta ejecutar**.

Sin embargo, la investigaciÃ³n muestra que **los LLMs que llaman a herramientas funcionan mÃ¡s efectivamente con cÃ³digo directamente**. Este es un principio fundamental de `smolagents`, como se muestra en el diagrama anterior del artÃ­culo [Executable Code Actions Elicit Better LLM Agents](https://huggingface.co/papers/2402.01030).

Escribir acciones en cÃ³digo en lugar de JSON ofrece varias ventajas clave:

* **Componibilidad**: Combinar y reutilizar acciones fÃ¡cilmente
* **GestiÃ³n de Objetos**: Trabajar directamente con estructuras complejas como imÃ¡genes
* **Generalidad**: Expresar cualquier tarea computacionalmente posible
* **Natural para LLMs**: CÃ³digo de alta calidad ya estÃ¡ presente en los datos de entrenamiento de LLMs

## Â¿CÃ³mo Funciona un Agente de CÃ³digo?

![De https://huggingface.co/docs/smolagents/conceptual_guides/react](https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/smolagents/codeagent_docs.png)

El diagrama anterior ilustra cÃ³mo funciona `CodeAgent.run()`, siguiendo el marco ReAct que mencionamos en la Unidad 1. La abstracciÃ³n principal para agentes en `smolagents` es un `MultiStepAgent`, que sirve como el bloque de construcciÃ³n central. `CodeAgent` es un tipo especial de `MultiStepAgent`, como veremos en un ejemplo a continuaciÃ³n.

Un `CodeAgent` realiza acciones a travÃ©s de un ciclo de pasos, con variables y conocimientos existentes incorporados en el contexto del agente, que se mantiene en un registro de ejecuciÃ³n:

1. El prompt del sistema se almacena en un `SystemPromptStep`, y la consulta del usuario se registra en un `TaskStep`.

2. Luego, se ejecuta el siguiente bucle while:

    2.1 El mÃ©todo `agent.write_memory_to_messages()` escribe los registros del agente en una lista de [mensajes de chat](https://huggingface.co/docs/transformers/en/chat_templating) legibles por el LLM.
    
    2.2 Estos mensajes se envÃ­an a un `Model`, que genera una finalizaciÃ³n.
    
    2.3 La finalizaciÃ³n se analiza para extraer la acciÃ³n, que, en nuestro caso, deberÃ­a ser un fragmento de cÃ³digo ya que estamos trabajando con un `CodeAgent`.
    
    2.4 La acciÃ³n se ejecuta.
    
    2.5 Los resultados se registran en la memoria en un `ActionStep`.

Al final de cada paso, si el agente incluye alguna llamada a funciÃ³n (en `agent.step_callback`), estas se ejecutan.

## Veamos Algunos Ejemplos

<Tip>
Puedes seguir el cÃ³digo en <a href="https://huggingface.co/agents-course/notebooks/blob/main/unit2/smolagents/code_agents.ipynb" target="_blank">este notebook</a> que puedes ejecutar usando Google Colab.
</Tip>

Alfred estÃ¡ planeando una fiesta en la mansiÃ³n de la familia Wayne y necesita tu ayuda para asegurarse de que todo salga bien. Para ayudarlo, aplicaremos lo que hemos aprendido sobre cÃ³mo opera un `CodeAgent` de mÃºltiples pasos.

<img src="https://huggingface.co/datasets/agents-course/course-images/resolve/main/en/unit2/smolagents/alfred-party.jpg" alt="Fiesta de Alfred"/>

Si aÃºn no has instalado `smolagents`, puedes hacerlo ejecutando el siguiente comando:

```bash
pip install smolagents -U
```

TambiÃ©n iniciemos sesiÃ³n en el Hugging Face Hub para tener acceso a la API de Inferencia Serverless.

```python
from huggingface_hub import login

login()
```

### Seleccionando una Lista de ReproducciÃ³n para la Fiesta Usando `smolagents`

Â¡La mÃºsica es una parte esencial de una fiesta exitosa! Alfred necesita ayuda para seleccionar la lista de reproducciÃ³n. Por suerte, Â¡`smolagents` nos tiene cubiertos! Podemos construir un agente capaz de buscar en la web usando DuckDuckGo. Para dar al agente acceso a esta herramienta, la incluimos en la lista de herramientas al crear el agente.

<img src="https://huggingface.co/datasets/agents-course/course-images/resolve/main/en/unit2/smolagents/alfred-playlist.jpg" alt="Lista de reproducciÃ³n de Alfred"/>

Para el modelo, confiaremos en `HfApiModel`, que proporciona acceso a la [API de Inferencia Serverless](https://huggingface.co/docs/api-inference/index) de Hugging Face. El modelo predeterminado es `"Qwen/Qwen2.5-Coder-32B-Instruct"`, que es eficiente y estÃ¡ disponible para inferencia rÃ¡pida, pero puedes seleccionar cualquier modelo compatible del Hub.

Ejecutar un agente es bastante sencillo:

```python
from smolagents import CodeAgent, DuckDuckGoSearchTool, HfApiModel

agent = CodeAgent(tools=[DuckDuckGoSearchTool()], model=HfApiModel())

agent.run("Busca las mejores recomendaciones de mÃºsica para una fiesta en la mansiÃ³n de los Wayne.")
```

Cuando ejecutes este ejemplo, la salida **mostrarÃ¡ un seguimiento de los pasos del flujo de trabajo siendo ejecutados**. TambiÃ©n imprimirÃ¡ el cÃ³digo Python correspondiente con el mensaje:

```python
 â”€ Ejecutando cÃ³digo analizado: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
  results = web_search(query="mejor mÃºsica para una fiesta de Batman")                                                      
  print(results)                                                                                                   
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
```

Â¡DespuÃ©s de algunos pasos, verÃ¡s la lista de reproducciÃ³n generada que Alfred puede usar para la fiesta! ğŸµ

### Usando una Herramienta Personalizada para Preparar el MenÃº

<img src="https://huggingface.co/datasets/agents-course/course-images/resolve/main/en/unit2/smolagents/alfred-menu.jpg" alt="MenÃº de Alfred"/>

Ahora que hemos seleccionado una lista de reproducciÃ³n, necesitamos organizar el menÃº para los invitados. De nuevo, Alfred puede aprovechar `smolagents` para hacerlo. AquÃ­, usamos el decorador `@tool` para definir una funciÃ³n personalizada que actÃºa como herramienta. Cubriremos la creaciÃ³n de herramientas con mÃ¡s detalle mÃ¡s adelante, asÃ­ que por ahora, simplemente podemos ejecutar el cÃ³digo.

Como puedes ver en el ejemplo a continuaciÃ³n, crearemos una herramienta usando el decorador `@tool` y la incluiremos en la lista de `tools`.

```python
from smolagents import CodeAgent, tool, HfApiModel

# Herramienta para sugerir un menÃº basado en la ocasiÃ³n
@tool
def suggest_menu(occasion: str) -> str:
    """
    Sugiere un menÃº basado en la ocasiÃ³n.
    Args:
        occasion: El tipo de ocasiÃ³n para la fiesta.
    """
    if occasion == "casual":
        return "Pizza, aperitivos y bebidas."
    elif occasion == "formal":
        return "Cena de 3 platos con vino y postre."
    elif occasion == "superhero":
        return "Buffet con comida saludable y de alta energÃ­a."
    else:
        return "MenÃº personalizado para el mayordomo."

# Alfred, el mayordomo, preparando el menÃº para la fiesta
agent = CodeAgent(tools=[suggest_menu], model=HfApiModel())

# Preparando el menÃº para la fiesta
agent.run("Prepara un menÃº formal para la fiesta.")
```

El agente se ejecutarÃ¡ durante algunos pasos hasta encontrar la respuesta.

Â¡El menÃº estÃ¡ listo! ğŸ¥—

### Usando Importaciones de Python Dentro del Agente

Tenemos la lista de reproducciÃ³n y el menÃº listos, pero necesitamos verificar un detalle mÃ¡s crucial: Â¡el tiempo de preparaciÃ³n!

Alfred necesita calcular cuÃ¡ndo todo estarÃ­a listo si comenzara a preparar ahora, en caso de que necesiten asistencia de otros superhÃ©roes.

`smolagents` se especializa en agentes que escriben y ejecutan fragmentos de cÃ³digo Python, ofreciendo ejecuciÃ³n en sandbox para seguridad.
**La ejecuciÃ³n de cÃ³digo tiene medidas de seguridad estrictas** - las importaciones fuera de una lista predefinida segura estÃ¡n bloqueadas por defecto. Sin embargo, puedes autorizar importaciones adicionales pasÃ¡ndolas como cadenas en `additional_authorized_imports`.
Para mÃ¡s detalles sobre la ejecuciÃ³n segura de cÃ³digo, consulta la [guÃ­a](https://huggingface.co/docs/smolagents/tutorials/secure_code_execution) oficial.

Al crear el agente, usaremos `additional_authorized_imports` para permitir la importaciÃ³n del mÃ³dulo `datetime`.

```python
from smolagents import CodeAgent, HfApiModel
import numpy as np
import time
import datetime

agent = CodeAgent(tools=[], model=HfApiModel(), additional_authorized_imports=['datetime'])

agent.run(
    """
    Alfred necesita prepararse para la fiesta. AquÃ­ estÃ¡n las tareas:
    1. Preparar las bebidas - 30 minutos
    2. Decorar la mansiÃ³n - 60 minutos
    3. Configurar el menÃº - 45 minutos
    4. Preparar la mÃºsica y la lista de reproducciÃ³n - 45 minutos

    Si comenzamos ahora mismo, Â¿a quÃ© hora estarÃ¡ lista la fiesta?
    """
)
```

Estos ejemplos son solo el comienzo de lo que puedes hacer con agentes de cÃ³digo, y ya estamos empezando a ver su utilidad para preparar la fiesta.
Puedes aprender mÃ¡s sobre cÃ³mo construir agentes de cÃ³digo en la [documentaciÃ³n de smolagents](https://huggingface.co/docs/smolagents).

En resumen, `smolagents` se especializa en agentes que escriben y ejecutan fragmentos de cÃ³digo Python, ofreciendo ejecuciÃ³n en sandbox para seguridad. Soporta modelos de lenguaje tanto locales como basados en API, haciÃ©ndolo adaptable a varios entornos de desarrollo.

### Compartiendo Nuestro Agente Preparador de Fiestas Personalizado en el Hub

Â¿No serÃ­a **increÃ­ble compartir nuestro propio agente Alfred con la comunidad**? Al hacerlo, cualquiera puede descargar y usar fÃ¡cilmente el agente directamente desde el Hub, Â¡llevando el mejor planificador de fiestas de Gotham a sus manos! Â¡HagÃ¡moslo posible! ğŸ‰

La biblioteca `smolagents` hace esto posible al permitirte compartir un agente completo con la comunidad y descargar otros para uso inmediato. Es tan simple como lo siguiente:

```python
# Cambia a tu nombre de usuario y nombre de repositorio
agent.push_to_hub('sergiopaniego/AlfredAgent')
```

Para descargar el agente nuevamente, usa el cÃ³digo a continuaciÃ³n:

```python
# Cambia a tu nombre de usuario y nombre de repositorio
alfred_agent = agent.from_hub('sergiopaniego/AlfredAgent')

alfred_agent.run("Dame la mejor lista de reproducciÃ³n para una fiesta en la mansiÃ³n de Wayne. La idea de la fiesta es un tema de 'mascarada de villanos'")  
```

Lo que tambiÃ©n es emocionante es que los agentes compartidos estÃ¡n directamente disponibles como Hugging Face Spaces, permitiÃ©ndote interactuar con ellos en tiempo real. Puedes explorar otros agentes [aquÃ­](https://huggingface.co/spaces/davidberenstein1957/smolagents-and-tools).

Por ejemplo, el _AlfredAgent_ estÃ¡ disponible [aquÃ­](https://huggingface.co/spaces/sergiopaniego/AlfredAgent). Puedes probarlo directamente a continuaciÃ³n:

<iframe
	src="https://sergiopaniego-alfredagent.hf.space/"
	frameborder="0"
	width="850"
	height="450"
></iframe>

Tal vez te preguntes: Â¿cÃ³mo construyÃ³ Alfred un agente asÃ­ usando `smolagents`? Al integrar varias herramientas, puede generar un agente de la siguiente manera. No te preocupes por las herramientas por ahora, ya que tendremos una secciÃ³n dedicada mÃ¡s adelante en esta unidad para explorar eso en detalle:

```python
from smolagents import CodeAgent, DuckDuckGoSearchTool, FinalAnswerTool, HfApiModel, Tool, tool, VisitWebpageTool

@tool
def suggest_menu(occasion: str) -> str:
    """
    Sugiere un menÃº basado en la ocasiÃ³n.
    Args:
        occasion: El tipo de ocasiÃ³n para la fiesta.
    """
    if occasion == "casual":
        return "Pizza, aperitivos y bebidas."
    elif occasion == "formal":
        return "Cena de 3 platos con vino y postre."
    elif occasion == "superhero":
        return "Buffet con comida saludable y de alta energÃ­a."
    else:
        return "MenÃº personalizado para el mayordomo."

@tool
def catering_service_tool(query: str) -> str:
    """
    Esta herramienta devuelve el servicio de catering mejor calificado en Ciudad GÃ³tica.
    
    Args:
        query: Un tÃ©rmino de bÃºsqueda para encontrar servicios de catering.
    """
    # Lista de ejemplo de servicios de catering y sus calificaciones
    services = {
        "Gotham Catering Co.": 4.9,
        "Wayne Manor Catering": 4.8,
        "Gotham City Events": 4.7,
    }
    
    # Encuentra el servicio de catering mejor calificado (simulando filtrado de consulta de bÃºsqueda)
    best_service = max(services, key=services.get)
    
    return best_service

class SuperheroPartyThemeTool(Tool):
    name = "superhero_party_theme_generator"
    description = """
    Esta herramienta sugiere ideas creativas para fiestas temÃ¡ticas de superhÃ©roes basadas en una categorÃ­a.
    Devuelve una idea Ãºnica de tema para la fiesta."""
    
    inputs = {
        "category": {
            "type": "string",
            "description": "El tipo de fiesta de superhÃ©roes (por ejemplo, 'hÃ©roes clÃ¡sicos', 'mascarada de villanos', 'Gotham futurista').",
        }
    }
    
    output_type = "string"

    def forward(self, category: str):
        themes = {
            "classic heroes": "Gala de la Liga de la Justicia: Los invitados vienen vestidos como sus hÃ©roes favoritos de DC con cÃ³cteles temÃ¡ticos como 'El Ponche de Kryptonita'.",
            "villain masquerade": "Baile de los PÃ­caros de Gotham: Una mascarada misteriosa donde los invitados se visten como villanos clÃ¡sicos de Batman.",
            "futuristic Gotham": "Noche Neo-Gotham: Una fiesta de estilo cyberpunk inspirada en Batman Beyond, con decoraciones de neÃ³n y gadgets futuristas."
        }
        
        return themes.get(category.lower(), "Idea de fiesta temÃ¡tica no encontrada. Prueba con 'hÃ©roes clÃ¡sicos', 'mascarada de villanos' o 'Gotham futurista'.")


# Alfred, el mayordomo, preparando el menÃº para la fiesta
agent = CodeAgent(
    tools=[
        DuckDuckGoSearchTool(), 
        VisitWebpageTool(),
        suggest_menu,
        catering_service_tool,
        SuperheroPartyThemeTool()
    ], 
    model=HfApiModel(),
    max_steps=10,
    verbosity_level=2
)

agent.run("Dame la mejor lista de reproducciÃ³n para una fiesta en la mansiÃ³n de Wayne. La idea de la fiesta es un tema de 'mascarada de villanos'")
```

Como puedes ver, hemos creado un `CodeAgent` con varias herramientas que mejoran la funcionalidad del agente, Â¡convirtiÃ©ndolo en el mejor planificador de fiestas listo para compartir con la comunidad! ğŸ‰

Ahora, es tu turno: Â¡construye tu propio agente y compÃ¡rtelo con la comunidad usando el conocimiento que acabamos de aprender! ğŸ•µï¸â€â™‚ï¸ğŸ’¡

<Tip>
Si deseas compartir tu proyecto de agente, entonces crea un space y etiqueta a [agents-course](https://huggingface.co/agents-course) en el Hugging Face Hub. Â¡Nos encantarÃ­a ver lo que has creado!
</Tip>

### Inspeccionando Nuestro Agente Preparador de Fiestas con OpenTelemetry y Langfuse ğŸ“¡

A medida que Alfred perfecciona el Agente Preparador de Fiestas, se estÃ¡ cansando de depurar sus ejecuciones. Los agentes, por naturaleza, son impredecibles y difÃ­ciles de inspeccionar. Pero como su objetivo es construir el mejor Agente Preparador de Fiestas y desplegarlo en producciÃ³n, necesita una trazabilidad robusta para monitoreo y anÃ¡lisis futuros.

Â¡Una vez mÃ¡s, `smolagents` viene al rescate! Adopta el estÃ¡ndar [OpenTelemetry](https://opentelemetry.io/) para instrumentar ejecuciones de agentes, permitiendo una inspecciÃ³n y registro sin problemas. Con la ayuda de [Langfuse](https://langfuse.com/) y el `SmolagentsInstrumentor`, Alfred puede rastrear y analizar fÃ¡cilmente el comportamiento de su agente.

Â¡Configurarlo es sencillo!

Primero, necesitamos instalar las dependencias necesarias:

```bash
pip install opentelemetry-sdk opentelemetry-exporter-otlp openinference-instrumentation-smolagents
```

A continuaciÃ³n, Alfred ya ha creado una cuenta en Langfuse y tiene sus claves API listas. Si aÃºn no lo has hecho, puedes registrarte en Langfuse Cloud [aquÃ­](https://cloud.langfuse.com/) o explorar [alternativas](https://huggingface.co/docs/smolagents/tutorials/inspect_runs).

Una vez que tengas tus claves API, deben configurarse correctamente de la siguiente manera:

```python
import os
import base64

LANGFUSE_PUBLIC_KEY="pk-lf-..."
LANGFUSE_SECRET_KEY="sk-lf-..."
LANGFUSE_AUTH=base64.b64encode(f"{LANGFUSE_PUBLIC_KEY}:{LANGFUSE_SECRET_KEY}".encode()).decode()

os.environ["OTEL_EXPORTER_OTLP_ENDPOINT"] = "https://cloud.langfuse.com/api/public/otel" # RegiÃ³n de datos EU
# os.environ["OTEL_EXPORTER_OTLP_ENDPOINT"] = "https://us.cloud.langfuse.com/api/public/otel" # RegiÃ³n de datos US
os.environ["OTEL_EXPORTER_OTLP_HEADERS"] = f"Authorization=Basic {LANGFUSE_AUTH}"
```

Finalmente, Alfred estÃ¡ listo para inicializar el `SmolagentsInstrumentor` y comenzar a rastrear el rendimiento de su agente.

```python
from opentelemetry.sdk.trace import TracerProvider

from openinference.instrumentation.smolagents import SmolagentsInstrumentor
from opentelemetry.exporter.otlp.proto.http.trace_exporter import OTLPSpanExporter
from opentelemetry.sdk.trace.export import SimpleSpanProcessor

trace_provider = TracerProvider()
trace_provider.add_span_processor(SimpleSpanProcessor(OTLPSpanExporter()))

SmolagentsInstrumentor().instrument(tracer_provider=trace_provider)
```

Â¡Alfred ahora estÃ¡ conectado ğŸ”Œ! Las ejecuciones de `smolagents` se estÃ¡n registrando en Langfuse, dÃ¡ndole visibilidad completa del comportamiento del agente. Con esta configuraciÃ³n, estÃ¡ listo para revisar ejecuciones anteriores y refinar aÃºn mÃ¡s su Agente Preparador de Fiestas.

```python
from smolagents import CodeAgent, HfApiModel

agent = CodeAgent(tools=[], model=HfApiModel())
alfred_agent = agent.from_hub('sergiopaniego/AlfredAgent', trust_remote_code=True)
alfred_agent.run("Dame la mejor lista de reproducciÃ³n para una fiesta en la mansiÃ³n de Wayne. La idea de la fiesta es un tema de 'mascarada de villanos'")  
```

Alfred ahora puede acceder a estos registros [aquÃ­](https://cloud.langfuse.com/project/cm7bq0abj025rad078ak3luwi/traces/995fc019255528e4f48cf6770b0ce27b?timestamp=2025-02-19T10%3A28%3A36.929Z) para revisarlos y analizarlos.

Mientras tanto, la [lista de reproducciÃ³n sugerida](https://open.spotify.com/playlist/0gZMMHjuxMrrybQ7wTMTpw) establece el ambiente perfecto para los preparativos de la fiesta. Â¿Genial, verdad? ğŸ¶

---

Ahora que hemos creado nuestro primer Agente de CÃ³digo, **aprendamos cÃ³mo podemos crear Agentes de Llamada a Herramientas**, el segundo tipo de agente disponible en `smolagents`.

## Recursos

- [Blog de smolagents](https://huggingface.co/blog/smolagents) - IntroducciÃ³n a smolagents e interacciones de cÃ³digo
- [smolagents: Construyendo Buenos Agentes](https://huggingface.co/docs/smolagents/tutorials/building_good_agents) - Mejores prÃ¡cticas para agentes confiables
- [Construyendo Agentes Efectivos - Anthropic](https://www.anthropic.com/research/building-effective-agents) - Principios de diseÃ±o de agentes
- [Compartiendo ejecuciones con OpenTelemetry](https://huggingface.co/docs/smolagents/tutorials/inspect_runs) - Detalles sobre cÃ³mo configurar OpenTelemetry para rastrear tus agentes.